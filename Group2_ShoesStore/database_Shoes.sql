drop database if exists ShoesStore;
create database if not exists ShoesStore;
use ShoesStore;
create table if not exists Customers(
customer_id int primary key auto_increment,
customer_account varchar(50) not null unique,
customer_password varchar(50) not null,
customer_email varchar(50) not null unique,
customer_name varchar(50),
customer_phone varchar(15),
customer_birthday date,
customer_gender varchar(10) ,
customer_address varchar(100),
constraint uq_Customers_email unique(customer_email)
);

insert into Customers(customer_account,customer_password,customer_name, customer_email)
value 
('xuan','pinkass','le ngoc xuan','lexuanxdts@gmail.com'),
('tuananh','123456','le ngoc x','lexuan281294@gmail.com'),
('ngoc','123456','le ngoc','xuanln.nde19011@vtc.edu.vn');

create table if not exists Orders(
order_id int  primary key auto_increment,
order_customer int not null,
order_date datetime,
order_status int,
constraint fk_Orders_Customers foreign key(order_customer) references Customers(customer_id)
);


create table if not exists Items(
item_id int primary key auto_increment,
item_name varchar(100) not null,
item_price float not null,
item_quantity int not null,
item_size int not null,
item_color varchar(20),
item_material varchar(20),
item_trademark nvarchar(20)
);
insert into Items(item_name,item_price,item_quantity,item_size,item_color,item_material,item_trademark)
value
('Loafer','250000','black','fabric','vans'),
('Jelli','350000','red','fabric','vans'),
('Juzi','340000','red','fabric','vans'),
('Baby','400000','red','fabric','vans'),
('Boobby','500000','white','fabric','vans'),
('Flat','450000','black','fabric','vans'),
('Flus','300000','black','fabric','adidas'),
('Oxfot','320000','black','fabric','adidas'),
('Effen','1000000','red','fabric','adidas'),
('Dock','700000','red','fabric','adidas'),
('Duck','600000','yeallow','fabric','adidas'),
 ('Mary','530000','yeallow','fabric','adidas'),
('Jane','250000','black','fabric','gucci'),
('Moca','250000','red','fabric','gucci'),
('Mocha','250000','gold','fabric','gucci'),
('Kitten','400000','black','fabric','gucci'),
('Cap','400000','red','fabric','gucci'),
('Toe','400000','gold','fabric','gucci'),
('Point','400000','pink','fabric','gucci'),
('Open','450000','white','fabric','gucci'),
('Pla','5000000','black','fabric','balenciaga'),
('Still','5000000','white','fabric','balenciaga'),
('Ank','5000000','red','fabric','balenciaga'),
('Strap','7000000','black','fabric','balenciaga'),
('Stip','7000000','pink','fabric','balenciaga'),
('Chip','7000000','gold','fabric','balenciaga'),
('Angel','8000000','black','fabric','balenciaga'),
('Lemon','2000000','black','fabric','nike'),
('Bupp','2000000','gold','fabric','nike'),
('Glo','2000000','white','fabric','nike'),
('Neo','2000000','pink','fabric','nike'),
('Leo','2200000','black','fabric','nike'),
('Neol','2200000','gold','fabric','nike'),
('Ragging','2200000','pink','fabric','nike'),
('Buff','3000000','black','fabric','nike'),
('Topp','2500000','black','fabric','puma'),
('Noel','2500000','white','fabric','puma'),
('Pap','2500000','gold','fabric','puma'),
('Pew','2500000','pink','fabric','puma'),
('Mix','3000000','red','fabric','puma'),
('Gaming','3000000','black','fabric','puma'),
('Wed','3000000','gold','fabric','puma'),
('Chun','3000000','pink','fabric','puma'),
('Sling','3500000','black','fabric','puma'),
('Gladiator','3500000','red','fabric','puma'),
('Sandal','3500000','gold','fabric','puma'),
('Cold','5250000','white','fabric','vans'),
('Snow','650000','white','fabric','vans'),
('Ugg','6250000','gold','fabric','adidas'),
('Lita','4250000','black','fabric','gucci'),
('Adam1234','250000','black','fabric','dolce'),
('Adam113','250000','red','fabric','dolce'),
('Adam121','250000','gold','fabric','dolce'),
('Adam789','250000','white','fabric','dolce'),
('Adam777','250000','pink','fabric','dolce'),
('Adam666','250000','gold','fabric','dolce'),
('Adam111','250000','white','fabric','dolce'),
('Adam222','250000','green','fabric','dolce'),
('Adam333','300000','black','fabric','dolce'),
('Mod111','250000','black','fabric','chanel'),
('Mod222','250000','white','fabric','chanel'),
('Mod333','250000','whiteblack','fabric','chanel'),
('Mod444','250000','gold','fabric','chanel'),
('Mod555','250000','black','fabric','chanel'),
('Mod666','400000','white','fabric','chanel'),
('Mod777','456000','gold','fabric','chanel'),
('Mod888','250000','black','fabric','chanel'),
('Mod999','500000','pink','fabric','chanel'),
('Mod789','1000000','black','fabric','chanel'),
('Madison11','2222222','black','fabric','hermes'),
('Madison22','5000000','brown','fabric','hermes'),
('Madison33','5000000','white','fabric','hermes'),
('Madison44','4500000','gold','fabric','hermes'),
('Madison55','345000','black','fabric','hermes'),
('Madison66','250000','orange','fabric','hermes'),
('Madison77','2500000''red','fabric','hermes'),
('Madison88','2500000','white','fabric','hermes'),
('Madison99','2500000','black','fabric','hermes'),
('Taggo1','250000','black','fabric','ani'),
('Taggo2','255000','blue','fabric','ani'),
('Taggo3','258000','green','fabric','ani'),
('Taggo4','230000','orange','fabric','ani'),
('Taggo5','290000','yeallow','fabric','ani'),
('Taggo6','289000','pink','fabric','ani'),
('Taggo7','2585000','gold','fabric','ani'),
('Taggo9','263600','white','fabric','ani'),
('Tagget','24500','red','fabric','ani'),
('Coldstorm','270000','black','fabric','ani'),
('Arow','250000','black','fabric','ani'),
('Valentine','250000','black','fabric','vans'),
('ThunderStorm','250000','black','fabric','vans'),
('HyperDriver','250000','black','fabric','vans'),
('TwinTail','250000','black','fabric','vans'),
('Puple','250000','black','fabric','vans'),
('StarGolden','250000','black','fabric','vans'),
('Bubblel','250000','black','fabric','vans'),
('Bishop','780000','black','fabric','vans'),
('Quart','580000','black','fabric','vans'),
('Engine','460000','black','fabric','vans');

select * from Items;
create table  if not exists ItemDetails(
item_id int primary key,
item_size int not null,
item_quantity int not null,
constraint fk_itemdetails_items foreign key (item_id) references Items(item_id)
);

insert into ItemDetails (item_id,item_size,item_quantity)
value
('1','39','5'),
('2','40','5'),
('3','40','5'),
('4','40','5'),
('5','40','5'),
('6','41','5'),
('7','41','5'),
('8','41','5'),
('9','41','5'),
('10','39','5'),
('11','39','5'),
('12','39','5'),
('13','39','5'),
('14','30','5'),
('15','40','5'),
('16','40','5'),
('17','41','5'),
('18','42','5'),
('19','42','5'),
('20','39','5'),
('21','39','5'),
('22','39','5'),
('23','40','5'),
('24','40','5'),
('25','40','5'),
('26','41','5'),
('27','41','5'),
('28','41','5'),
('29','42','5'),
('30','39','5'),
('31','39','5'),
('32','39','5'),
('33','40','5'),
('34','40','5'),
('35','40','5'),
('36','41','5'),
('37','41','5'),
('38','41','5'),
('39','42','5'),
('40','39','5'),
('41','39','5'),
('42','39','5'),
('43','40','5'),
('44','40','5'),
('45','40','5'),
('46','41','5'),
('47','41','5'),
('48','42','5'),
('49','42','5'),
('50','42','5'),
('51','42','5'),
('52','42','5'),
('53','42','5'),
('54','42','5'),
('55','42','5'),
('65','42','5'),
('57','42','5'),
('58','42','5'),
('59','42','5'),
('60','39','5'),
('61','39','5'),
('62','39','5'),
('63','40','5'),
('64','40','5'),
('65','40','5'),
('66','41','5'),
('67','41','5'),
('68','41','5'),
('69','42','5'),
('70','39','5'),
('71','39','5'),
('72','39','5'),
('73','40','5'),
('74','40','5'),
('75','40','5'),
('76','41','5'),
('77','41','5'),
('78','41','5'),
('79','42','5'),
('80','39','5'),
('81','39','5'),
('82','39','5'),
('83','40','5'),
('84','40','5'),
('85','40','5'),
('86','41','5'),
('87','41','5'),
('88','41','5'),
('89','42','5'),
('90','42','5'),
('91','39','5'),
('92','39','5'),
('93','39','5'),
('94','40','5'),
('95','40','5'),
('96','40','5'),
('97','41','5'),
('98','41','5'),
('99','42','5'),
('100','42','5');



select order_id from orders where order_customer = 2 order by order_id  desc limit 1 ;
create table if not exists Orderdetails(
order_id int(10) not null,
item_id int not null,
constraint primary key(order_id, item_id),
constraint fk_Orderdetails_Orders foreign key(order_id) references Orders(order_id),
constraint fk_Orderdetails_Items foreign key (item_id) references Items(item_id)
);
select order_id from orders where order_customer = 1 order by order_id desc limit 1;
select * from orders;
select * from customers;
select * from orderdetails;
select * from orders where order_customer = 1 order by order_id desc limit 1;
select * from Orderdetails where item_id = 1;

select order_status from Orders ord inner join OrderDetails ordl on ord.order_id = ordl.order_id where order_customer = 1;
select ord.order_id, ord.order_date, it.item_name from orders ord inner join orderDetails ordt on ord.order_id = ordt.order_id inner join Items it on ordt.item_id = it.item_id where ord.order_customer = 1 and ord.order_status = 1;



